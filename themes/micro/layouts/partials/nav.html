{{ $page := .Page }}
{{ range .Site.Menus.main }}
  {{ $class := slice }}
  {{ if $page.IsMenuCurrent .Menu . }}
    {{ $class = append "active" $class }}
  {{ else if $page.HasMenuCurrent .Menu . }}
    {{ $class = append "active-ancestor" $class }}
  {{ end }}
  <a href="{{ .URL | safeURL }}" class="{{ delimit $class ` ` }}">{{ .Name | safeHTML }}</a>
{{ end }}
